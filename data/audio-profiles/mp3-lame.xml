<?xml version="1.0" encoding="utf-8"?>
<audio-profiles>
  <profiles>
    <profile id="lame-mp3">
      <name>MP3 (Lossy)</name>
      <description>Good trade-off between quality and file size.</description>
      <output-file-extension>mp3</output-file-extension>
      <mimetype>audio/mp3</mimetype>
      <mimetype>audio/mpeg3</mimetype>
      <mimetype>audio/x-mpeg-3</mimetype>
      <mimetype>audio/x-mpeg</mimetype>
      <mimetype>application/x-id3</mimetype>
      <mimetype>audio/x-mp3</mimetype>
      <pipeline>
        <process id="gstreamer">
		  audioconvert ! 
		  audio/x-raw-float,rate=$sample_rate,channels=$channels ! 
		  audioconvert ! 
		  lame 
            bitrate=$bitrate ! 
            mode=$mode
		  id3v2mux
		</process>
        <variable id="bitrate">
          <name>Bitrate</name>
          <control-type>combo</control-type>
          <default-value>128</default-value>
          <possible-values>
            <value value="64">64 Kbps</value>
            <value value="96">96 Kbps</value>
            <value value="128">128 Kbps</value>
            <value value="160">160 Kbps</value>
            <value value="192">192 Kbps</value>
            <value value="320">320 Kbps</value>
          </possible-values>
        </variable>
        <variable id="mode">
          <name>Mode</name>
          <control-type>combo</control-type>
          <default-value>4</default-value>
          <possible-values>
            <value value="0">Stereo</value>
            <value value="1">Joint Stereo</value>
            <value value="2">Dual Channel</value>
            <value value="3">Mono</value>
            <value value="4">Auto</value>
          </possible-values>
          <advanced />
        </variable>
        <preset-variable id="channels" />
        <preset-variable id="sample_rate" />
      </pipeline>
    </profile>
  </profiles>
</audio-profiles>
